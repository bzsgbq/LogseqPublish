on: [push]

permissions:
  contents: write
jobs:
  test:
    runs-on: ubuntu-latest
    name: Publish Logseq graph
    steps:
      - uses: actions/checkout@v4
      - uses: logseq/publish-spa@v0.3.0
        with:
          # graph-directory: . # æŒ‡å®šå­˜æ”¾ç¬”è®°çš„æ–‡ä»¶å¤¹å
          # output-directory: www         # æŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶å¤¹å
          theme-mode: "light"             # è®¾ç½®ä¸ºæš—è‰²ä¸»é¢˜ (å¯é€‰ "dark" æˆ– "light")
          accent-color: "blue"            # è®¾ç½®å¼ºè°ƒè‰² (å¯é€‰ "tomato", "red", "green" ç­‰å¤šç§é¢œè‰²)
          version: 0.7.9
      - name: Add a nojekyll file # to make sure asset paths are correctly identified
        run: touch $GITHUB_WORKSPACE/www/.nojekyll
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: www